{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AppComponent = class AppComponent {\n  constructor(productService, router) {\n    this.productService = productService;\n    this.router = router;\n    this.currentPage = 1;\n    this.totalPages = 0;\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  getProducts() {\n    this.productService.getAllProducts(this.currentPage, 10).subscribe(response => {\n      this.products = response.content;\n      this.totalPages = response.totalPages;\n    });\n  }\n  onOpenModal(mode) {\n    if (mode === 'product') {\n      this.router.navigateByUrl('/product');\n    }\n  }\n  onAddProduct(addForm) {\n    document.getElementById('add-product-form').click();\n    this.productService.addProduct(addForm.value).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n      addForm.reset();\n    });\n  }\n  onUpdateProduct(product) {\n    this.productService.updateProduct(product).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n    });\n  }\n  onDeleteProduct(productId) {\n    this.productService.deleteProduct(productId).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n    });\n  }\n  filterProducts(price) {\n    this.productService.filterProductsByPrice(price).subscribe(response => {\n      this.products = response;\n      if (response.length === 0 || !price) {\n        this.getProducts();\n      }\n    });\n  }\n  getStatisticalRep() {\n    this.productService.getStatisticalReportProduct().subscribe(response => {\n      this.stats = response.sort((a, b) => a.likes - b.likes);\n      console.log('hasdas', this.stats);\n    });\n  }\n  sortProductsByPrice() {\n    this.products = this.products.sort((a, b) => a.price - b.price);\n  }\n  changePage(pageNumber) {\n    pageNumber = Math.max(pageNumber, 0);\n    pageNumber = Math.min(pageNumber, this.totalPages - 1);\n    this.currentPage = pageNumber;\n    this.getProducts();\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"mappings":"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","names":["Component","AppComponent","constructor","productService","router","ngOnInit","getProducts","getAllProducts","currentPage","subscribe","response","products","content","totalPages","onOpenModal","mode","navigateByUrl","onAddProduct","addForm","document","getElementById","click","addProduct","value","console","log","reset","onUpdateProduct","product","updateProduct","onDeleteProduct","productId","deleteProduct","filterProducts","price","filterProductsByPrice","length","getStatisticalRep","getStatisticalReportProduct","stats","sort","a","b","likes","sortProductsByPrice","changePage","pageNumber","Math","max","min","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\rasni\\Desktop\\A2\\frontend\\gymstoreapp\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Product } from './model/product';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { ProductService } from './services/product.service';\nimport { NgForm } from '@angular/forms';\nimport { Entry } from './model/Entry';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent implements OnInit {\n  public products : Product[];\n  public editProduct : Product;\n  public deleteProduct : Product;\n  public stats :{id : number, name: string, likes  : number }[];\n  public currentPage : number = 1;\n  public totalPages : number = 0;\n\n  constructor(private productService : ProductService, private router : Router) { }\n\n  ngOnInit(): void {\n    this.getProducts();\n  }\n\n  public getProducts() : void {\n    this.productService.getAllProducts(this.currentPage, 10).subscribe(\n      response => {\n        this.products = response.content;\n        this.totalPages = response.totalPages;\n      },\n\n    );\n  }\n\n  public onOpenModal(mode : string) : void {\n    if (mode === 'product') {\n      this.router.navigateByUrl('/product');\n    }\n  }\n\n  public onAddProduct(addForm : NgForm) : void {\n    document.getElementById('add-product-form').click();\n    this.productService.addProduct(addForm.value).subscribe(\n      (response : Product) => {\n        console.log(response);\n        this.getProducts();\n        addForm.reset();\n      },\n\n      );\n  }\n\n  public onUpdateProduct(product : Product) : void {\n    this.productService.updateProduct(product).subscribe(\n      (response : Product) => {\n        console.log(response);\n        this.getProducts();\n      }\n    );\n  }\n\n  public onDeleteProduct(productId : number) : void {\n    this.productService.deleteProduct(productId).subscribe(\n      (response : void) => {\n        console.log(response);\n        this.getProducts();\n      }\n    );\n  }\n\n  public filterProducts(price : number) : void {\n    this.productService.filterProductsByPrice(price).subscribe(\n      (response : Product[]) => {\n        this.products = response;\n        if (response.length === 0 || !price) {\n          this.getProducts();\n        }\n      }\n    );\n  }\n\n  public getStatisticalRep() : void {\n    this.productService.getStatisticalReportProduct().subscribe(\n      (response) => {\n        this.stats = response.sort((a, b) => a.likes - b.likes);\n        console.log('hasdas', this.stats)\n      }\n    );\n  }\n\n  public sortProductsByPrice() : void {\n    this.products = this.products.sort((a, b) => a.price - b.price);\n  }\n\n  public changePage(pageNumber : number) : void {\n    pageNumber = Math.max(pageNumber, 0);\n    pageNumber = Math.min(pageNumber, this.totalPages - 1);\n    this.currentPage = pageNumber;\n    this.getProducts();\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}