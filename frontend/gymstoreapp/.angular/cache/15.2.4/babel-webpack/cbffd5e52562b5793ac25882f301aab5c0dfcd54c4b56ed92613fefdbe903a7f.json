{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AppComponent = class AppComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.currentPage = 1;\n    this.totalPages = 0;\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  getProducts() {\n    this.productService.getAllProducts(this.currentPage, 10).subscribe(response => {\n      this.products = response.content;\n      this.totalPages = response.totalPages;\n    });\n  }\n  onOpenModal(product, mode) {\n    const container = document.getElementById('main-container');\n    const button = document.createElement('button');\n    button.type = 'button';\n    button.style.display = 'none';\n    button.setAttribute('data-toggle', 'modal');\n    if (mode === 'add') {\n      button.setAttribute('data-target', '#addProductModal');\n    }\n    if (mode === 'delete') {\n      this.deleteProduct = product;\n      button.setAttribute('data-target', '#deleteProductModal');\n    }\n    if (mode === 'edit') {\n      this.editProduct = product;\n      button.setAttribute('data-target', '#updateProductModal');\n    }\n    if (mode === 'stats') {\n      button.setAttribute('data-target', '#statisticalReportModal');\n    }\n    container.appendChild(button);\n    button.click();\n  }\n  onAddProduct(addForm) {\n    document.getElementById('add-product-form').click();\n    this.productService.addProduct(addForm.value).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n      addForm.reset();\n    });\n  }\n  onUpdateProduct(product) {\n    this.productService.updateProduct(product).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n    });\n  }\n  onDeleteProduct(productId) {\n    this.productService.deleteProduct(productId).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n    });\n  }\n  filterProducts(price) {\n    this.productService.filterProductsByPrice(price).subscribe(response => {\n      this.products = response;\n      if (response.length === 0 || !price) {\n        this.getProducts();\n      }\n    });\n  }\n  getStatisticalRep() {\n    this.productService.getStatisticalReportProduct().subscribe(response => {\n      this.stats = response.sort((a, b) => a.likes - b.likes);\n      console.log('hasdas', this.stats);\n    });\n  }\n  sortProductsByPrice() {\n    this.products = this.products.sort((a, b) => a.price - b.price);\n  }\n  changePage(pageNumber) {\n    pageNumber = Math.max(pageNumber, 0);\n    pageNumber = Math.min(pageNumber, this.totalPages - 1);\n    this.currentPage = pageNumber;\n    this.getProducts();\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"mappings":"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","names":["Component","AppComponent","constructor","productService","ngOnInit","getProducts","getAllProducts","currentPage","subscribe","response","products","content","totalPages","onOpenModal","product","mode","container","document","getElementById","button","createElement","type","style","display","setAttribute","deleteProduct","editProduct","appendChild","click","onAddProduct","addForm","addProduct","value","console","log","reset","onUpdateProduct","updateProduct","onDeleteProduct","productId","filterProducts","price","filterProductsByPrice","length","getStatisticalRep","getStatisticalReportProduct","stats","sort","a","b","likes","sortProductsByPrice","changePage","pageNumber","Math","max","min","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\rasni\\Desktop\\A2\\frontend\\gymstoreapp\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Product } from './model/product';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { ProductService } from './services/product.service';\nimport { NgForm } from '@angular/forms';\nimport { Entry } from './model/Entry';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent implements OnInit {\n  public products : Product[];\n  public editProduct : Product;\n  public deleteProduct : Product;\n  public stats :{id : number, name: string, likes  : number }[];\n  public currentPage : number = 1;\n  public totalPages : number = 0;\n\n  constructor(private productService : ProductService) { }\n\n  ngOnInit(): void {\n    this.getProducts();\n  }\n\n  public getProducts() : void {\n    this.productService.getAllProducts(this.currentPage, 10).subscribe(\n      response => {\n        this.products = response.content;\n        this.totalPages = response.totalPages;\n      },\n\n    );\n  }\n\n  public onOpenModal(product: Product, mode : string) : void {\n    const container = document.getElementById('main-container');\n    const button = document.createElement('button');\n    button.type = 'button';\n    button.style.display = 'none';\n    button.setAttribute('data-toggle', 'modal');\n    if (mode === 'add') {\n      button.setAttribute('data-target', '#addProductModal');\n    }\n    if (mode === 'delete') {\n      this.deleteProduct = product;\n      button.setAttribute('data-target', '#deleteProductModal');\n    }\n    if (mode === 'edit') {\n      this.editProduct = product;\n      button.setAttribute('data-target', '#updateProductModal');\n    }\n    if (mode === 'stats')\n    {\n      button.setAttribute('data-target', '#statisticalReportModal');\n    }\n    container.appendChild(button);\n    button.click();\n  }\n\n  public onAddProduct(addForm : NgForm) : void {\n    document.getElementById('add-product-form').click();\n    this.productService.addProduct(addForm.value).subscribe(\n      (response : Product) => {\n        console.log(response);\n        this.getProducts();\n        addForm.reset();\n      },\n\n      );\n  }\n\n  public onUpdateProduct(product : Product) : void {\n    this.productService.updateProduct(product).subscribe(\n      (response : Product) => {\n        console.log(response);\n        this.getProducts();\n      }\n    );\n  }\n\n  public onDeleteProduct(productId : number) : void {\n    this.productService.deleteProduct(productId).subscribe(\n      (response : void) => {\n        console.log(response);\n        this.getProducts();\n      }\n    );\n  }\n\n  public filterProducts(price : number) : void {\n    this.productService.filterProductsByPrice(price).subscribe(\n      (response : Product[]) => {\n        this.products = response;\n        if (response.length === 0 || !price) {\n          this.getProducts();\n        }\n      }\n    );\n  }\n\n  public getStatisticalRep() : void {\n    this.productService.getStatisticalReportProduct().subscribe(\n      (response) => {\n        this.stats = response.sort((a, b) => a.likes - b.likes);\n        console.log('hasdas', this.stats)\n      }\n    );\n  }\n\n  public sortProductsByPrice() : void {\n    this.products = this.products.sort((a, b) => a.price - b.price);\n  }\n\n  public changePage(pageNumber : number) : void {\n    pageNumber = Math.max(pageNumber, 0);\n    pageNumber = Math.min(pageNumber, this.totalPages - 1);\n    this.currentPage = pageNumber;\n    this.getProducts();\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}