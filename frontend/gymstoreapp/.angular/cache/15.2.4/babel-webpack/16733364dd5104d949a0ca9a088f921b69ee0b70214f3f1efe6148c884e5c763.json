{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/product.service\";\nimport * as i2 from \"@angular/router\";\nconst _c0 = \".paginations[_ngcontent-%COMP%] {\\r\\n    color: #707070;\\r\\n    border: 1px solid;\\r\\n    border-radius: 100px;\\r\\n    width: 100px;\\r\\n }\\r\\n\\r\\n.pg[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    align-items: center;\\r\\n    margin: 50px 0px 50px 0px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQixvQkFBb0I7SUFDcEIsWUFBWTtDQUNmOztBQUVEO0lBQ0ksYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixtQkFBbUI7SUFDbkIseUJBQXlCO0FBQzdCIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5wYWdpbmF0aW9ucyB7XHJcbiAgICBjb2xvcjogIzcwNzA3MDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwcHg7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiB9XHJcblxyXG4ucGcge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDUwcHggMHB4IDUwcHggMHB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\";\nexport class AppComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.currentPage = 1;\n    this.totalPages = 0;\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  getProducts() {\n    this.productService.getAllProducts(this.currentPage, 10).subscribe(response => {\n      this.products = response.content;\n      this.totalPages = response.totalPages;\n    });\n  }\n  onOpenModal(product, mode) {\n    const container = document.getElementById('main-container');\n    const button = document.createElement('button');\n    button.type = 'button';\n    button.style.display = 'none';\n    button.setAttribute('data-toggle', 'modal');\n    if (mode === 'add') {\n      button.setAttribute('data-target', '#addProductModal');\n    }\n    if (mode === 'delete') {\n      this.deleteProduct = product;\n      button.setAttribute('data-target', '#deleteProductModal');\n    }\n    if (mode === 'edit') {\n      this.editProduct = product;\n      button.setAttribute('data-target', '#updateProductModal');\n    }\n    if (mode === 'stats') {\n      button.setAttribute('data-target', '#statisticalReportModal');\n    }\n    container.appendChild(button);\n    button.click();\n  }\n  onAddProduct(addForm) {\n    document.getElementById('add-product-form').click();\n    this.productService.addProduct(addForm.value).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n      addForm.reset();\n    });\n  }\n  onUpdateProduct(product) {\n    this.productService.updateProduct(product).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n    });\n  }\n  onDeleteProduct(productId) {\n    this.productService.deleteProduct(productId).subscribe(response => {\n      console.log(response);\n      this.getProducts();\n    });\n  }\n  filterProducts(price) {\n    this.productService.filterProductsByPrice(price).subscribe(response => {\n      this.products = response;\n      if (response.length === 0 || !price) {\n        this.getProducts();\n      }\n    });\n  }\n  getStatisticalRep() {\n    this.productService.getStatisticalReportProduct().subscribe(response => {\n      this.stats = response.sort((a, b) => a.likes - b.likes);\n      console.log('hasdas', this.stats);\n    });\n  }\n  sortProductsByPrice() {\n    this.products = this.products.sort((a, b) => a.price - b.price);\n  }\n  changePage(pageNumber) {\n    pageNumber = Math.max(pageNumber, 0);\n    pageNumber = Math.min(pageNumber, this.totalPages - 1);\n    this.currentPage = pageNumber;\n    this.getProducts();\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 16,\n  vars: 0,\n  consts: [[\"href\", \"https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\", \"rel\", \"stylesheet\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"bg-dark\"], [1, \"btn-group\"], [\"type\", \"button\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-secondary\", \"btn-lg\", \"dropdown-toggle\"], [1, \"dropdown-menu\"], [\"routerLink\", \"product\", \"routerLinkActive\", \"active\", 1, \"dropdown-item\"], [\"href\", \"#\", 1, \"dropdown-item\"], [1, \"dropdown-divider\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"link\", 0);\n      i0.ɵɵelementStart(1, \"nav\", 1)(2, \"div\", 2)(3, \"button\", 3);\n      i0.ɵɵtext(4, \" Select \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"a\", 5);\n      i0.ɵɵtext(7, \"Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"a\", 6);\n      i0.ɵɵtext(9, \"Customers\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"a\", 6);\n      i0.ɵɵtext(11, \"Reviews\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"div\", 7);\n      i0.ɵɵelementStart(13, \"a\", 6);\n      i0.ɵɵtext(14, \"Separated link\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(15, \"router-outlet\");\n    }\n  },\n  dependencies: [i2.RouterOutlet, i2.RouterLink, i2.RouterLinkActive],\n  styles: [_c0, _c0]\n});","map":{"version":3,"mappings":"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","names":["AppComponent","constructor","productService","ngOnInit","getProducts","getAllProducts","currentPage","subscribe","response","products","content","totalPages","onOpenModal","product","mode","container","document","getElementById","button","createElement","type","style","display","setAttribute","deleteProduct","editProduct","appendChild","click","onAddProduct","addForm","addProduct","value","console","log","reset","onUpdateProduct","updateProduct","onDeleteProduct","productId","filterProducts","price","filterProductsByPrice","length","getStatisticalRep","getStatisticalReportProduct","stats","sort","a","b","likes","sortProductsByPrice","changePage","pageNumber","Math","max","min","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\rasni\\Desktop\\A2\\frontend\\gymstoreapp\\src\\app\\app.component.ts","C:\\Users\\rasni\\Desktop\\A2\\frontend\\gymstoreapp\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Product } from './model/product';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { ProductService } from './services/product.service';\nimport { NgForm } from '@angular/forms';\nimport { Entry } from './model/Entry';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent implements OnInit {\n  public products : Product[];\n  public editProduct : Product;\n  public deleteProduct : Product;\n  public stats :{id : number, name: string, likes  : number }[];\n  public currentPage : number = 1;\n  public totalPages : number = 0;\n\n  constructor(private productService : ProductService) { }\n\n  ngOnInit(): void {\n    this.getProducts();\n  }\n\n  public getProducts() : void {\n    this.productService.getAllProducts(this.currentPage, 10).subscribe(\n      response => {\n        this.products = response.content;\n        this.totalPages = response.totalPages;\n      },\n\n    );\n  }\n\n  public onOpenModal(product: Product, mode : string) : void {\n    const container = document.getElementById('main-container');\n    const button = document.createElement('button');\n    button.type = 'button';\n    button.style.display = 'none';\n    button.setAttribute('data-toggle', 'modal');\n    if (mode === 'add') {\n      button.setAttribute('data-target', '#addProductModal');\n    }\n    if (mode === 'delete') {\n      this.deleteProduct = product;\n      button.setAttribute('data-target', '#deleteProductModal');\n    }\n    if (mode === 'edit') {\n      this.editProduct = product;\n      button.setAttribute('data-target', '#updateProductModal');\n    }\n    if (mode === 'stats')\n    {\n      button.setAttribute('data-target', '#statisticalReportModal');\n    }\n    container.appendChild(button);\n    button.click();\n  }\n\n  public onAddProduct(addForm : NgForm) : void {\n    document.getElementById('add-product-form').click();\n    this.productService.addProduct(addForm.value).subscribe(\n      (response : Product) => {\n        console.log(response);\n        this.getProducts();\n        addForm.reset();\n      },\n\n      );\n  }\n\n  public onUpdateProduct(product : Product) : void {\n    this.productService.updateProduct(product).subscribe(\n      (response : Product) => {\n        console.log(response);\n        this.getProducts();\n      }\n    );\n  }\n\n  public onDeleteProduct(productId : number) : void {\n    this.productService.deleteProduct(productId).subscribe(\n      (response : void) => {\n        console.log(response);\n        this.getProducts();\n      }\n    );\n  }\n\n  public filterProducts(price : number) : void {\n    this.productService.filterProductsByPrice(price).subscribe(\n      (response : Product[]) => {\n        this.products = response;\n        if (response.length === 0 || !price) {\n          this.getProducts();\n        }\n      }\n    );\n  }\n\n  public getStatisticalRep() : void {\n    this.productService.getStatisticalReportProduct().subscribe(\n      (response) => {\n        this.stats = response.sort((a, b) => a.likes - b.likes);\n        console.log('hasdas', this.stats)\n      }\n    );\n  }\n\n  public sortProductsByPrice() : void {\n    this.products = this.products.sort((a, b) => a.price - b.price);\n  }\n\n  public changePage(pageNumber : number) : void {\n    pageNumber = Math.max(pageNumber, 0);\n    pageNumber = Math.min(pageNumber, this.totalPages - 1);\n    this.currentPage = pageNumber;\n    this.getProducts();\n  }\n\n}\n","<link href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\" rel=\"stylesheet\">\n<link href=\"app.component.css\" rel=\"stylesheet\">\n<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n   <div class=\"btn-group\">\n      <button class=\"btn btn-secondary btn-lg dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n       Select\n      </button>\n      <div class=\"dropdown-menu\">\n         <a class=\"dropdown-item\" routerLink=\"product\" routerLinkActive=\"active\">Products</a>\n         <a class=\"dropdown-item\" href=\"#\">Customers</a>\n         <a class=\"dropdown-item\" href=\"#\">Reviews</a>\n         <div class=\"dropdown-divider\"></div>\n         <a class=\"dropdown-item\" href=\"#\">Separated link</a>\n      </div>\n   </div>\n\n</nav>\n\n\n\n\n<router-outlet></router-outlet>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}